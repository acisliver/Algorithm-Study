# 완전 탐색 & 백트래킹

## 완전 탐색

- 가능한 모든 경우를 구해 정답이 되는 해를 탐색하는 기법

## 백트래킹

- 해를 찾는 도중 막히면(해가 아닌 것이 확실하면) 되돌아가서 다시 해를 찾아 가는 기법
- 완전 탐색을 개선
- 후보 해들을 단계적으로 만들어 가는 과정에서 후보해들을 평가 → 가지치기

## 경우의 수

- 모든 알고리즘 문제는 완전 탐색으로 접근 가능하다.
- 해가 될 수 있는 경우의 수를 모두 구한 후 해인지 판별
- 모든 경우를 구하는 과정에서 사용되는 알고리즘의 시간복잡도에 따라 시간 초과가 발생할 수 있다.

## 그래프로 생각하기

- 하나의 후보해는 모든 시점에서의 선택의 집합이다.
- 특정 시점을 하나의 노드라 하고 다음 시점으로 가는 모든 경우를 간선으로 표현하면 하나의 그래프를 만들 수 있다.
- 그 그래프를 DFS로 탐색하여 모든 경우의 수를 구한다.

## 가지치기

- 앞서 만든 그래프를 탐색하는 도중 완성된 후보해가 되기 전에 탐색을 중단하는 방법
- 필요 없는 경우의 수를 탐색하지 않는 것

## 상태값 복구

- 후보해는 특정 선택의 집합이고 이를 하나의 상태라 보겠다.
- 하나의 상태값으로 탐색을 완료하고 이전 호출 스택으로 돌아간다면 이전 상태값으로 되돌려야한다.
- 방법
  1. 다음 노드로 진입하기 전에 상태값을 변경한다.
  2. 변경 된 상태값으로 탐색을 진행한다.
  3. 탐색이 종료되면 이전 상태값으로 되돌린다.

## 기본 틀 

- 백트래킹은 가지치기 조건으로 이전 노드로 되돌아오는 기능이 필요하기 때문에 DFS로 구현한다.

```javascript
function backtracking(where, state) {
    // 기저 사실 - DFS
    if (isDone()) {
      // do something
      return;
    }
    
    // 가지치기 조건
    
    for (next : nextNodes) {  // 다음 방문할 노드 방문
      // 가지치기 조건
      if () continue;
      
      // 방문 상태 추가
      state.add(curNode)
      
      backtracking(next, state);
      
      // 방문 상태 제거
      state.remove(curNode)
      
    }
}
```

## 추천 문제
[[BOJ] N-Queen](https://www.acmicpc.net/problem/9663)
